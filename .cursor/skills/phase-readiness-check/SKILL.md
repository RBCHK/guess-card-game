---
name: phase-readiness-check
description: "Проверка готовности к выполнению следующей фазы плана GuessCard: анализ задач, зависимостей, готовности кода и спеки, вопросы и рекомендации. Использовать перед стартом фазы или по запросу «проверь готовность к Phase N»."
---

# Phase Readiness Check — GuessCard

Используй этот skill, когда пользователь собирается начать следующую фазу разработки по плану GuessCard или просит проверить готовность к Phase N.

## Когда применять

- Пользователь говорит: «давай Phase 2», «приступаем к Phase 3», «проверь готовность к фазе», «что нужно для Phase N», «всё ли готово для Phase N».
- Перед тем как агент начнёт выполнять задачи из плана — сначала выполнить readiness check по этой инструкции.

## Источники

- **План:** `docs/guesscard_mobile_dev_plan_acb95dcc.plan.md` — YAML frontmatter (todos со status), затем секции «Фаза N: …» с **Цель**, **Задачи**, **Проверка**.
- **Спека:** `docs/GUESS_CARD_GAME_MOBILE_SPEC_RU.md` — ссылки из плана вида «[секция X.Y](GUESS_CARD_GAME_MOBILE_SPEC_RU.md)».
- **Код:** структура `src/`, наличие файлов и экспортов из предыдущих фаз.

## Инструкции (что сделать агенту)

### 1. Определить целевую фазу

- Прочитать frontmatter плана: найти первый todo с `status: pending` — это **следующая фаза**.
- Если пользователь явно назвал номер фазы (например «Phase 3») — взять её как целевую.
- Прочитать в плане полный блок этой фазы: **Цель**, нумерованный список **Задачи**, **Проверка**.

### 2. Составить список того, что будет сделано

- Выписать по пунктам: какие файлы/модули будут созданы или изменены.
- Для каждой задачи указать: путь к файлу (или компоненту), ожидаемые экспорты/API (функции, типы, store actions).
- Указать критерий приёмки из блока **Проверка** (как будет проверяться завершение фазы).

### 3. Проверить готовность

- **Предыдущие фазы:** все фазы с меньшим номером должны иметь `status: completed` в плане. Если нет — явно указать: «Phase N не завершена, сначала нужно …».
- **Зависимости кода:** для текущей фазы перечислить, что должно уже существовать (например для Phase 2: `src/lib/game/*`, типы, константы; для Phase 3: stores, если план это предполагает). Проверить наличием файлов/директорий и при необходимости ключевых экспортов (grep/read).
- **Спека:** по ссылкам из задач фазы проверить, что указанные секции в `GUESS_CARD_GAME_MOBILE_SPEC_RU.md` есть и содержат нужные таблицы/код/описание. Если секция отсутствует или пустая — отметить в отчёте.
- **Внешние зависимости:** для фаз с бэкендом/сторами (например 10, 11) — отметить необходимость аккаунтов/ключей; не требовать их для чисто кодовых фаз.

### 4. Задать уточняющие вопросы (если нужно)

- Задачи сформулированы неоднозначно или допускают несколько реализаций.
- В спеке или плане противоречие (например разное поведение в двух секциях).
- Отсутствует ссылка на спеку для важного решения (форматы данных, API).
- Нужен выбор пользователя: порядок подзадач, приоритет (сначала A или B), упрощение scope для MVP.

Задать вопросы кратко и по делу; если всё однозначно — пропустить шаг.

### 5. Сформировать отчёт и рекомендации

Выдать пользователю:

- **Фаза N: [название].**
- **Что будет сделано:** краткий нумерованный список (по задачам из плана), без лишней детализации.
- **Готовность:**
  - Готово к выполнению — если все проверки пройдены.
  - Не готово — перечислить, чего не хватает (какая фаза не завершена, каких файлов/секций нет), и что сделать сначала.
- **Рекомендации:** порядок выполнения подзадач (если фаза большая), риски (например «Phase 4 большая, лучше разбить на 4.1–4.6 и проверять по шагам»), опциональная подготовка (например «для Phase 10 заранее завести аккаунты Firebase/Supabase»).
- При необходимости — список заданных уточняющих вопросов и предложение дождаться ответов перед стартом фазы.

## Важно

- Не переходить к реализации фазы внутри этого skill — только анализ и отчёт. Реализация — отдельным запросом/шагом.
- Если пользователь просит «сделай Phase N», сначала выполнить readiness check и выдать отчёт; затем уточнить: «Приступаем к реализации?» или сразу начать выполнение, если явно попросили «сделай».
- Язык отчёта и вопросов — по предпочтению пользователя (в контексте проекта часто RU).
